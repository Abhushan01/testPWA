import './polyfills.server.mjs';
import{c as ye}from"./chunk-EDTXYYF6.mjs";import{$ as ae,A as Y,B as q,Ca as N,Da as me,Ea as fe,F,Ga as ge,K as A,L as u,La as ve,M as J,Ma as Ee,Na as be,Q as X,Qa as V,R as ee,S as te,T as re,U as ie,V as c,W as p,X as w,Y as ne,Z as oe,_ as se,a as H,aa as ce,b as R,ba as pe,c as $,ca as le,d as m,da as h,e as B,ea as O,f as P,g as j,h as D,i as y,ia as de,j as b,ja as ue,k as f,l as K,m as Z,n as C,o as Q,oa as he,q as g,r as l,s as _,t as I,w as k,x as d,y as z,ya as U,z as G}from"./chunk-ZO3IU2PJ.mjs";import{a as W}from"./chunk-VVCT4QZE.mjs";var we=(()=>{let e=class e{constructor(t){this.http=t,this.httpOptions={headers:new N({"Content-Type":"text/plain",Accept:"application/json"})},this.SERVERs=["de1.api.radio-browser.info","nl1.api.radio-browser.info","at1.api.radio-browser.info"],this.PROTOCOL="https"}fetchRadio(){let t=`${this.PROTOCOL}://${this.SERVERs[0]}/json/stations/bycountrycodeexact/IN`;return this.http.get(t,this.httpOptions)}};e.\u0275fac=function(i){return new(i||e)(I(me))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let r=e;return r})();var je=["radioElement"];function De(r,e){if(r&1){let n=ne();c(0,"tr")(1,"td"),h(2),p(),c(3,"td"),w(4,"img",4),p(),c(5,"td"),h(6),p(),c(7,"td"),h(8),p(),c(9,"td"),h(10),p(),c(11,"td")(12,"button",5),oe("click",function(){let i=G(n).$implicit,o=se();return Y(o.play(i.url_resolved))}),h(13,"Play me"),p()()()}if(r&2){let n=e.$implicit,t=e.$index;u(2),O(t+1),u(2),ae("src",n.favicon,A),u(2),O(n.name),u(2),O(n.language),u(2),O(n.tags)}}var Te=(()=>{let e=class e{constructor(t){this.radio=t,this.radioURL="",this.listOfRadioStations=[]}ngOnInit(){this.radio.fetchRadio().subscribe((t=[])=>{console.log(t),this.listOfRadioStations=t.slice(0,50)})}play(t){console.log(t),this.radioURL=t,this.radioElement.nativeElement.load(),this.radioElement.nativeElement.play()}};e.\u0275fac=function(i){return new(i||e)(J(we))},e.\u0275cmp=k({type:e,selectors:[["app-testhero"]],viewQuery:function(i,o){if(i&1&&ce(je,5),i&2){let a;pe(a=le())&&(o.radioElement=a.first)}},decls:11,vars:1,consts:[["radioElement",""],["controls",""],["type","audio/ogg","preload","none",3,"src"],[1,"table","table-striped"],["alt","",3,"src"],[1,"btn","btn-primary",3,"click"]],template:function(i,o){i&1&&(c(0,"p"),h(1,"testhero works!"),p(),c(2,"audio",1,0),w(4,"source",2),h(5," Your browser does not support the audio tag. "),p(),c(6,"table",3),w(7,"thead"),c(8,"tbody"),re(9,De,14,5,"tr",null,te),p()()),i&2&&(u(4),ee("src",o.radioURL,A),u(5),ie(o.listOfRadioStations))}});let r=e;return r})();var Fe=[{path:"home",loadChildren:()=>import("./chunk-2BB3OQBI.mjs").then(r=>r.HomeModule)},{path:"hero",component:Te},{path:"",redirectTo:"/hero",pathMatch:"full"}],Ce=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=d({type:e}),e.\u0275inj=l({imports:[V.forRoot(Fe),V]});let r=e;return r})();var x=(()=>{let e=class e{constructor(){this.title="radioStar"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=k({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(i,o){i&1&&w(0,"router-outlet")},dependencies:[be]});let r=e;return r})();var M="Service workers are disabled or not supported by this browser";function Ae(r){return P(()=>$(new Error(r)))}var T=class{constructor(e){if(this.serviceWorker=e,!e)this.worker=this.events=this.registration=Ae(M);else{let t=j(e,"controllerchange").pipe(m(()=>e.controller)),i=P(()=>R(e.controller)),o=B(i,t);this.worker=o.pipe(b(E=>!!E)),this.registration=this.worker.pipe(C(()=>e.getRegistration()));let L=j(e,"message").pipe(m(E=>E.data)).pipe(b(E=>E&&E.type)).pipe(Z());L.connect(),this.events=L}}postMessage(e,n){return this.worker.pipe(f(1),Q(t=>{t.postMessage(W({action:e},n))})).toPromise().then(()=>{})}postMessageWithOperation(e,n,t){let i=this.waitForOperationCompleted(t),o=this.postMessage(e,n);return Promise.all([o,i]).then(([,a])=>a)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(e){let n;return typeof e=="string"?n=t=>t.type===e:n=t=>e.includes(t.type),this.events.pipe(b(n))}nextEventOfType(e){return this.eventsOfType(e).pipe(f(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(b(n=>n.nonce===e),f(1),m(n=>{if(n.result!==void 0)return n.result;throw new Error(n.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}},Me=(()=>{let e=class e{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,this.pushManager=null,this.subscriptionChanges=new H,!t.isEnabled){this.messages=y,this.notificationClicks=y,this.subscription=y;return}this.messages=this.sw.eventsOfType("PUSH").pipe(m(o=>o.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(m(o=>o.data)),this.pushManager=this.sw.registration.pipe(m(o=>o.pushManager));let i=this.pushManager.pipe(C(o=>o.getSubscription()));this.subscription=D(i,this.subscriptionChanges)}requestSubscription(t){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(M));let i={userVisibleOnly:!0},o=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),a=new Uint8Array(new ArrayBuffer(o.length));for(let s=0;s<o.length;s++)a[s]=o.charCodeAt(s);return i.applicationServerKey=a,this.pushManager.pipe(C(s=>s.subscribe(i)),f(1)).toPromise().then(s=>(this.subscriptionChanges.next(s),s))}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(M));let t=i=>{if(i===null)throw new Error("Not subscribed to push notifications.");return i.unsubscribe().then(o=>{if(!o)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})};return this.subscription.pipe(f(1),C(t)).toPromise()}decodeBase64(t){return atob(t)}};e.\u0275fac=function(i){return new(i||e)(I(T))},e.\u0275prov=g({token:e,factory:e.\u0275fac});let r=e;return r})(),Re=(()=>{let e=class e{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,!t.isEnabled){this.versionUpdates=y,this.unrecoverable=y;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(M));let t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(M));let t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}};e.\u0275fac=function(i){return new(i||e)(I(T))},e.\u0275prov=g({token:e,factory:e.\u0275fac});let r=e;return r})();var Ie=new _("");function Ue(r,e,n,t){return()=>{if(!(U(t)&&"serviceWorker"in navigator&&n.enabled!==!1))return;navigator.serviceWorker.addEventListener("controllerchange",()=>{navigator.serviceWorker.controller!==null&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})});let i;if(typeof n.registrationStrategy=="function")i=n.registrationStrategy();else{let[a,...s]=(n.registrationStrategy||"registerWhenStable:30000").split(":");switch(a){case"registerImmediately":i=R(null);break;case"registerWithDelay":i=Oe(+s[0]||0);break;case"registerWhenStable":i=s[0]?D(Se(r),Oe(+s[0])):Se(r);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${n.registrationStrategy}`)}}r.get(X).runOutsideAngular(()=>i.pipe(f(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:n.scope}).catch(a=>console.error("Service worker registration failed with:",a))))}}function Oe(r){return R(null).pipe(K(r))}function Se(r){return r.get(ue).isStable.pipe(b(n=>n))}function Ve(r,e){return new T(U(e)&&r.enabled!==!1?navigator.serviceWorker:void 0)}var S=class{};function Le(r,e={}){return z([Me,Re,{provide:Ie,useValue:r},{provide:S,useValue:e},{provide:T,useFactory:Ve,deps:[S,F]},{provide:de,useFactory:Ue,deps:[q,Ie,S,F],multi:!0}])}var ke=(()=>{let e=class e{static register(t,i={}){return{ngModule:e,providers:[Le(t,i)]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=d({type:e}),e.\u0275inj=l({providers:[Me,Re]});let r=e;return r})();var Ne=(()=>{let e=class e{intercept(t,i){let o=new N({"Content-Type":"application/json",Accept:"application/json"});return t=t.clone({headers:o}),i.handle(t)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=g({token:e,factory:e.\u0275fac});let r=e;return r})();var xe=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=d({type:e,bootstrap:[x]}),e.\u0275inj=l({providers:[Ee(),{provide:fe,useClass:Ne,multi:!0}],imports:[ve,Ce,ge,ke.register("ngsw-worker.js",{enabled:!he(),registrationStrategy:"registerWhenStable:30000"})]});let r=e;return r})();var We=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=d({type:e,bootstrap:[x]}),e.\u0275inj=l({imports:[xe,ye]});let r=e;return r})();export{We as a};
